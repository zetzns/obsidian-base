В первой главе мы узнали, что все приложения в Android работают изолированно и по умолчанию имеют доступ только к своим файлам и очень ограниченному набору системных сервисов. Для взаимодействия с системой и другими приложениями они могут запрашивать соответствующие разрешения, которые предоставляются во время установки и не могут быть изменены самим приложением.

Сами разрешения (привилегии) - есть строка, обозначающая возможность выполнения определённой операции. Внутри самой Android есть набор встроенных разрешений, число которых растёт вместе с количеством новых функций в системе. 


> [!NOTE] NOTE
> Новые встроенные разрешения, которые блокируют функциональность, ранее не требовавшую разрешения, применяются условно, в зависимости от указанной в манифесте версии `targetSdkVersion` приложения: приложения, нацеленные на версии Android, выпущенные до появления нового разрешения, не могут знать о нем, и поэтому разрешение обычно предоставляется автоматически (без запроса). Однако автоматически предоставляемые разрешения все равно отображаются в списке разрешений на экране установки приложения, чтобы пользователи могли быть о них осведомлены. Приложения, нацеленные на более поздние версии, должны явно запрашивать новое разрешение.

Встроенные разрешения документированы в API справочнике платформы. Дополнительные разрешения, называемые пользовательскими разрешениями, могут быть определены как системными, так и установленными пользователями приложениями.


> [!example] 
> Чтобы увидеть список разрешений, известных системе, используйте команду `pm list permissions` (см. Листинг 2-1). Для отображения дополнительной информации о разрешениях, включая определяющий пакет, метку, описание и уровень защиты, добавьте параметр `-f` к команде.

```bash
$ pm list permissions
All Permissions:
permission:android.permission.REBOOTu
permission:android.permission.BIND_VPN_SERVICEv
permission:com.google.android.gallery3d.permission.GALLERY_PROVIDERw
permission:com.android.launcher3.permission.RECEIVE_LAUNCH_BROADCASTSx
--snip--
```

Названия разрешений обычно начинаются с их определяющего пакета, к которому добавляется строка `.permission`. Поскольку встроенные разрешения определены в пакете `android`, их названия начинаются с `android.permission`. Например, в Листинге 2-1, `REBOOT` и `BIND_VPN_SERVICE` являются встроенными разрешениями, в то время как `GALLERY_PROVIDER` определяется приложением Gallery (пакет `com.google.android.gallery3d`), а `RECEIVE_LAUNCH_BROADCASTS` определяется приложением-лаунчером по умолчанию (пакет `com.android.launcher3`).

---
---
Следующая глава [[Запрос разрешений]]
Раздел [[Permissions]]
Книга [[SEC Internals]]

