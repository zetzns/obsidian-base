# Память и регистры

> [!def] 
> `Регистры` - специальные ячейки на процессоре, к которым можно обращаться. Обращение к ним наиболее быстрое, по сравнению со всеми другими данными на компьютере.
# x86

## Data registers

> [!list] 
> Основные регистры:
> - `eax` - операнды и результаты вычислений
> - `ebx` - базовый адрес структуры данных впамяти
> - `ecx` - счётчик циклов
> - `edx` - обычно используется для хранения операндов и результатов умножения и деления

| 32  | 16  |  8  |  0  |
| :-: | :-: | :-: | :-: |
| EAX |     |     |     |
|     |     | AX  |     |
|     |     | AH  | AL  |

> [!note] 
> `AH` - accumulator high
> `AL` - accumulator low

## Pointer registers

> [!list] 
> `esp` - stack pointer
> `ebp` - base pointer (низ стэка)
> `esi` - source index
> `edi` - destination index
> `eip` - instruction pointer 

## Segment registers


> [!def] 
> `Segment registers` указывают на ту или иную область памяти


> [!list] 
> - `CS` - указатель на текущий сегмент кода
> - `SS` - указатель на текущий сегмент стэка
> - `DS` - указатель на текущий сегмент данных
> - `ES` - указатель на ту или иную строковую область
> - `FS` - общего назначения
> - `GS` - специфичная структура данных

## EFLAGS

> [!def] 
> Большинство инструкций изменяют `EFLAGS`, чтобы сохранить информацию о результатах своей работы.

> [!list] 
> Типы флагов:
> - `Status flags` - арифметика
> - `Control flags` - поведение процессора при отдельных инструкциях
> - `System flags` - свойства системы управления

> [!list] 
> FLAGS (***x86***):
> - `CF` - carry
> - `PF` - чётность
> - `AF` - перенос для doulbe 
> - `ZF` - zero
> - `SF` - sign
> - `OF` - overflow
> - `DF` (control) - ???
> - `IF` (sys) - interrupt (прерывания: не обязательно ошибка - обработка различных действий)
> - `TF` (sys) - trap (user mode - ошибка: деление на ноль)
> - `IOPL` (sys) -  I/O priv level (режим работы)
> - `NT` (sys) -  nested task (для перехода к другому блока кода)
> - `RF` (sys) - resume flag
> - `VM` (sys) - Virtual 8086 mdode
> - `AC` (sys) - Aligment check
> - `VIF` (sys) - Virtual interrupt flag
> - `VIP` (sys) - Virtual interrupt pending
> - `ID` - CPUID flag

# 64-bit

> [!important] 
> Вместо использование `32-битных` регистров, в современных компьютерах используются `64-битные`, именуемые также, лишь меняя первую букву `eax->rax`, расширяя тем самым регистры в 2 раза.

# Работа с памятью

