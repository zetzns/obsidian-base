
> [!example] 
> Расширение запроса (Query Expansion)

```python
def expand_query(original_query):
    # Добавляем синонимы и связанные термины
    expanded_terms = get_synonyms(original_query)
    
    # Расширение на основе эмбеддингов
    query_embedding = embed_text(original_query)
    similar_concepts = find_similar_concepts(query_embedding)
    
    return f"{original_query} {' '.join(expanded_terms + similar_concepts)}"
```

> [!example] 
> HyDE — гипотетические документные эмбеддинги

```python
def hyde_query_enhancement(query):
    # Генерируем гипотетический ответ
    hypothetical_answer = llm.generate(
        f"Write a detailed answer to: {query}"
    )
    
    # Создаём эмбеддинг гипотетического ответа
    answer_embedding = embed_text(hypothetical_answer)
    
    # Используем этот эмбеддинг для поиска
    return search_by_embedding(answer_embedding)
```


