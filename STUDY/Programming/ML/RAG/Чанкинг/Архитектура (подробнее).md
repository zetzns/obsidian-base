### Microservice Design:

**Document Processing Service**

- PDF/text extraction
- Chunking and preprocessing
- Metadata extraction

**Embedding Service**

- Model hosting (local or API)
- Batch processing capabilities
- Caching for identical content

**Search Service**

- Vector similarity search
- Metadata filtering
- Result ranking and fusion

**Response Generation Service**

- LLM integration
- Context assembly
- Response formatting