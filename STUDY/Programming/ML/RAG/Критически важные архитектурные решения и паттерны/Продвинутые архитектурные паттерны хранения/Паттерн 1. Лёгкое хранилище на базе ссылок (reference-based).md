
> [!example] 
> Минимальное хранение в vector DB:

```json
vector_record = {
    "id": "chunk_047",
    "vector": [...],
    "metadata": {
        "document_id": "doc123",
        "page_number": 5,
        "offset_start": 840,
        "offset_end": 1242,
        "file_path": "s3://bucket/docs/doc123.pdf"
    }
}
```

> [!example] 
> Извлечение контекста при поиске:

```json
def retrieve_context(search_results):
    contexts = []
    for result in search_results:
        file_content = load_file(result.metadata['file_path'])
        chunk_text = extract_text_slice(
            file_content, 
            result.metadata['offset_start'], 
            result.metadata['offset_end']
        )
        contexts.append(chunk_text)
    return contexts
```
