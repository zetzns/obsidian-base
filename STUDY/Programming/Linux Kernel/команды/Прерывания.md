Используйте `request_irq()` для регистрации обработчика прерываний и `free_irq()` для освобождения.

```c
int request_irq(unsigned int irq, irq_handler_t                         handler, unsigned long flags,
                const char *name, void *dev);
```

- **Аргументы**:
    - `irq`: Номер линии прерывания, которую вы хотите обработать.
    - `handler`: Указатель на функцию обработчика прерывания.
    - `flags`: Флаги, которые определяют тип и поведение прерывания (например, `IRQF_SHARED` для совместного использования прерывания несколькими устройствами).
    - `name`: Имя обработчика прерывания для отладки и идентификации.
    - `dev`: Указатель на структуру устройства или данные, которые передаются обработчику. Это полезно для идентификации конкретного устройства при совместном использовании прерывания.
- **Возвращаемое значение**: Возвращает 0 при успешной регистрации или отрицательное значение ошибки при неудаче.

```c
void free_irq(unsigned int irq, void *dev_id);
```

